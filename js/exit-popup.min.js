/*!
 * Ynteractive Exit Popup
 * (c) 2011-2015 Ynteractive Ltd. (http://www.ynteractive.com)
 * License: MIT
 */
(function(a){a.ynteractiveExitPopup=function(b){var e={width:"40%",height:"30%",target:"#ynteractive-exit-popup",cookieIdentifier:"ynteractiveExitPopup",cookieValidity:7,closeOnOutsideClick:true,delay:0,debug:false},j=d(b),f=document.querySelector(j.target),c=document.querySelector(j.target+" .ynteractive-exit-popup-close"),k=document.querySelector(j.target+" .ynteractive-exit-popup-inner"),i={set:function(m,o,p){var n=[m+"="+o];if(p){var l=new Date();l.setTime(l.getTime()+(p*24*3600*1000));n.push("expires="+l.toGMTString())}n.push("path=/");document.cookie=n.join("; ")},get:function(m){var p=m+"=",l=document.cookie.split(";"),n;for(n=0;n<l.length;n++){var o=l[n].trim();if(o.indexOf(p)===0){return o.substring(p.length)}}return null}},h={active:false,mouseLeftWindow:function(){h.open()},setDimension:function(m,l){if(l.toString().indexOf("%")===-1){l=l+"px"}k.style[m]=l},attachEvents:function(){function l(m){h.destroy();m.preventDefault()}document.addEventListener("mouseout",h.mouseLeftWindow);c.addEventListener("click",l);if(j.closeOnOutsideClick){f.addEventListener("click",l);k.addEventListener("click",function(m){m.stopPropagation()})}this.active=true},detachEvents:function(){document.removeEventListener("mouseout",h.mouseLeftWindow)},open:function(){f.classList.add("visible");h.detachEvents();setTimeout(function(){h.setDimension("width",j.width);h.setDimension("height",j.height)},20);setTimeout(function(){f.classList.add("finished")},200)},destroy:function(){if(this.active){h.detachEvents();setTimeout(function(){f.parentNode.removeChild(f)},200);if(!j.debug){i.set(j.cookieIdentifier,1,j.cookieValidity)}}}};function d(l){var m={};Object.keys(e).forEach(function(n){m[n]=l.hasOwnProperty(n)?l[n]:e[n]});return m}function g(m,l){return function(){l.apply(m,arguments)}}if(!i.get(j.cookieIdentifier)){if(typeof j.delay!=="number"){throw new Error("options.delay must be a numeric value")}if(!f){throw new Error("Could not find element with selector: "+j.target)}if(f.parentNode!==document.body){throw new Error(j.target+" element must be placed directly inside of the <body> element")}setTimeout(g(h,h.attachEvents),j.delay)}return{open:h.open,destroy:h.destroy,getElement:function(){return f}}}})(window);